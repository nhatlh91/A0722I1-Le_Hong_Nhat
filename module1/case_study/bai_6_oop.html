<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Case study - Module 1 - Task 6</title>
</head>
<body onload="winNumbers()">
<h2>Case study - Module 1</h2>
<h3>Object oriented programming</h3>
<input size="7px" id="0" placeholder="first number" onclick="getRandomNumber(this.id)">
<input size="7px" id="1" placeholder="second number" onclick="getRandomNumber(this.id)">
<input size="7px" id="2" placeholder="third number" onclick="getRandomNumber(this.id)">
<input size="7px" id="3" placeholder="fourth number" onclick="getRandomNumber(this.id)">
<input size="7px" id="4" placeholder="fifth number" onclick="getRandomNumber(this.id)">
<input size="7px" id="5" placeholder="sixth number" onclick="getRandomNumber(this.id)">
<br>
<button onclick="createTicket()">Create your ticket</button>
<button onclick="check()">Check the result</button>
<div id="output"></div>

<script>
    let ticket = Array(4);
    let ticketID = 0;
    const win = Array(6);

    function winNumbers() {
        for (let i = 0; i < 6; i++) {
            win[i] = (Math.floor(Math.random() * 100));
        }
        console.log(win);
    }

    function createTicket() {
        if (ticketID < 4) {
            let temp = Array(6);
            for (let i = 0; i < 6; i++) {
                temp[i] = parseInt(document.getElementById('' + i + '').value);
            }
            ticket[ticketID] = temp;
            ticketID++;
        } else alert('You have bought 4 tickets. Reached the limit !!');
        console.log(ticket);
    }

    function getRandomNumber(id) {
        let autoGenNum = (Math.floor(Math.random() * 100));
        document.getElementById(id).value = autoGenNum;
    }

    function check() {
        let alert = '';
        for (let i = 0; i < 4; i++) {
            alert += 'Your ticket No.'+(i+1)+' is: '+ticket[i].join('-') + prize(ticket[i]) + '<br>';
            document.getElementById('output').innerHTML = alert;
        }
        ticket = Array(4);
        ticketID = 0;
    }

    function prize(ticket) {
        console.log(win);
        console.log(ticket);
        let count = 0;
        for (let i = 0; i < 6; i++) {
            if (ticket[i] === win[i]) {
                count++;
            } else {
                count = 0;
            }
        }
        console.log(count);
        switch (count) {
            case 6:
                return ' which has got First prize. Congratulations !!';
                break;
            case 5:
                return ' which has got Second prize. Congratulations !!';
                break;
            case 4:
            case 3:
                return ' which has got Consolation prize. Congratulations !!';
                break;
            default:
                return ' which doesnt get any prizes, try again !!';
        }
    }

</script>
</body>
</html>