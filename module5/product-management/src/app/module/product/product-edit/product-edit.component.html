<div class="card" style="width: 20rem; margin: auto">
  <div class="card-header">
    Product information
  </div>
  <div class="card-body">
    <form [formGroup]="rf" (ngSubmit)="update()" *ngIf="this.rf">
<!--      <p>Product id: {{rf.value?.id}}</p>-->
      <div class="input-group mb-3">
        <label for="name">Name: </label>
        <input
          type="text"
          formControlName="name" id="name" class="form-control" placeholder="Product name">
      </div>
      <p class="text-danger" *ngIf="rf.controls.name.touched && rf.controls.name?.errors?.required">Product name is required</p>

      <div class="input-group mb-3">
        <label for="price">Price: </label>
        <input
          type="number"
          formControlName="price" id="price" class="form-control" placeholder="Product price">
      </div>
      <p class="text-danger" *ngIf="rf.controls.price.touched && rf.controls.price?.errors?.required">Product price is required</p>
      <p class="text-danger" *ngIf="rf.controls.price.touched && rf.controls.price?.errors?.min">Product price is cannot less than 0</p>

      <div class="input-group mb-3">
        <label for="description">Description: </label>
        <input
          type="text"
          formControlName="description" id="description" class="form-control" placeholder="Product description">
      </div>
      <p class="text-danger" *ngIf="rf.controls.description.touched && rf.controls.description?.errors?.required">Product description is required</p>

      <div class="input-group mb-3">
        <label for="category">Category: </label>
        <select
          formControlName="category" id="category" class="form-control">
          <option *ngFor="let category of categories" [ngValue]="category">{{category.name}}</option>
        </select>
      </div>
      <p class="text-danger" *ngIf="rf.controls.category.touched && rf.controls.category?.errors?.required">Category is required</p>

      <div class="input-group mb-3">
        <label for="date">Date: </label>
        <input
          type="date"
          formControlName="date" id="date" class="form-control" placeholder="Date of purchase">
      </div>
      <p class="text-danger" *ngIf="rf.controls.date.touched && rf.controls.date?.errors?.required">Date of purchase is required</p>
      <button class="btn btn-secondary" routerLink="/products/list">Cancel</button>
      <button class="btn btn-success" type="submit" [disabled]="rf.invalid">Save</button>
    </form>
  </div>
</div>
<pre *ngIf="this.rf">{{rf.value | json}}</pre>
